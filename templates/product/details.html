{% extends "template.html" %}

{% load static %}

{% block content %}
    <!--Section: Block Content-->
    <section class="mb-5" style="margin-top: 10%;">
        <div class="row">
            <div class="col-md-6 mb-4">
                <div class="row">
                    <div class="col-12">
                        <img src="{% static product.Picture %}" class="img-fluid rounded" alt="product">
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <h5>{{product.Name}}</h5>
                <p class="mb-2 text-muted text-uppercase small">{{product.Category}}</p>
                {% if product.IsOnSale %}
                    <p class="text-success"><strong>Discount ${{product.Price}}</strong></span></p>
                {% else %}
                    <p><strong>${{product.Price}}</strong></span></p>
                {% endif %}
               
                <p class="pt-1">{{product.Description}}</p>
                <hr>

                <div class="w-25">
                    <label class="form-label" for="typeNumber">Quantity</label>
                    <input class="form-control text-center" id="typeNumber" min="0" name="quantity" value="1" type="number" >
                </div>
                <hr>
                
                {% if product.IsAvailable %}
                    <!--<a type="button" class="btn btn-primary mr-1 mb-2" onclick="this.href='/cart/addToCart/{{product.id}}-'+document.getElementById('typeNumber').value">Add to cart</a>-->
                    <a type="button" class="btn btn-primary mr-1 mb-2" id="addToCart" onclick="addToCart()">Add to cart</a>
                {% else %}
                    <button type="button" class="btn btn-primary mr-1 mb-2" disabled>Sold</button>
                {% endif %}
            </div>
        </div>
  </section>
  <!--Section: Block Content-->

    <script>
        function addToCart(){
            var a = document.getElementById('addToCart');
            a.href = "{% url 'addToCart' product.id 9999 %}".replace(/9999/, document.getElementById('typeNumber').value);
        }
    </script>
{% endblock %}

